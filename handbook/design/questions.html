<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-85788349-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-85788349-2');
    </script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "8d0y8ip2in");
    </script>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,900,700,400italic" rel="stylesheet">
    <title>Questions | Serenity/JS</title>
    <meta property="og:title" content="Questions | Serenity/JS"/>
    <meta property="og:description" content="Full-stack acceptance testing with Serenity/JS"/>
    <meta property="og:image" content="https://serenity-js.org/images/serenity-js-banner.png"/>
    <meta property="og:url" content="https://serenity-js.org/handbook/design/questions.html"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/icons/site.webmanifest">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/css/charming-pro-serenity-js.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css"
          integrity="sha256-AJfZWudfDWpFpIZ3USExGYDGwsYz47IgfEQCiGTm4wQ=" crossorigin="anonymous">
</head>
<body>

<div id="top"
        class="block block-dark block-bb bg-gradient-accent-2 p-0 d-print-none">
    <div class="container">
        <nav id="web-nav" class="web-nav web-nav-light">
            <header>
                <a href="/" class="serenity-js-logo">
                    <svg width="190px" height="42px" viewBox="0 0 1077 243" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
                        <path class="logo-accent" d="M295.133,157.626l22.342,0c1.571,12.567 6.633,23.04 27.753,23.04c13.789,0 23.563,-7.68 23.563,-19.2c0,-11.52 -5.76,-15.884 -26.007,-19.2c-29.847,-4.015 -43.985,-13.091 -43.985,-36.48c0,-20.422 17.454,-35.782 43.461,-35.782c26.881,0 42.938,12.219 45.382,36.131l-21.294,0c-2.27,-13.091 -9.775,-18.676 -24.088,-18.676c-14.138,0 -21.469,6.807 -21.469,16.407c0,10.123 4.19,15.186 25.833,18.327c29.323,4.015 44.509,12.393 44.509,37.353c0,21.643 -18.327,38.574 -45.905,38.574c-34.036,0 -48.35,-16.931 -50.095,-40.494" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M472.468,141.219c-1.048,-15.709 -9.077,-22.691 -22.168,-22.691c-12.741,0 -21.294,8.552 -23.389,22.691l45.557,0Zm-67.55,10.473l0,-1.397c0,-28.276 19.375,-47.127 45.382,-47.127c22.691,0 43.113,13.44 43.113,46.08l0,6.109l-66.851,0c0.698,17.28 9.426,27.054 25.135,27.054c12.742,0 19.375,-5.061 20.945,-13.963l20.422,0c-2.967,19.2 -18.502,29.672 -41.891,29.672c-26.88,0 -46.255,-17.629 -46.255,-46.428" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M513.481,105.088l14.487,0l0,16.407c5.761,-10.298 13.616,-17.454 30.023,-17.978l0,13.615c-18.327,0.872 -30.023,6.633 -30.023,29.148l0,50.095l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M637.754,141.917c-1.396,-18.851 -11.171,-26.356 -26.182,-26.356c-14.836,0 -24.785,10.124 -27.229,26.356l53.411,0Zm-68.945,9.774l0,-1.396c0,-27.578 17.629,-46.778 42.763,-46.778c21.12,0 41.019,12.742 41.019,45.381l0,4.713l-68.772,0c0.699,20.771 10.648,32.291 29.325,32.291c14.137,0 22.341,-5.236 24.261,-15.883l14.488,0c-3.143,18.327 -18.328,27.927 -38.924,27.927c-25.833,0 -44.16,-18.153 -44.16,-46.255" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M673.882,105.088l14.487,0l0,14.487c4.189,-8.552 14.313,-16.058 29.324,-16.058c18.85,0 32.116,10.299 32.116,36.829l0,56.029l-14.488,0l0,-57.076c0,-16.059 -6.806,-23.215 -21.468,-23.215c-13.441,0 -25.484,8.553 -25.484,24.96l0,55.331l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M772.733,105.088l14.486,0l0,91.287l-14.487,0l0,-91.287Zm-2.618,-28.626c0,-5.237 4.365,-9.6 9.601,-9.6c5.236,0 9.599,4.363 9.599,9.6c0,5.237 -4.363,9.6 -9.599,9.6c-5.236,0 -9.601,-4.363 -9.601,-9.6" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M819.16,173.51l0,-56.204l-13.091,0l0,-12.218l13.091,0l0,-20.77l14.487,0l0,20.77l21.294,0l0,12.218l-21.294,0l0,54.808c0,8.901 4.015,13.265 11.346,13.265c4.538,0 8.028,-0.698 11.171,-1.92l0,12.218c-2.968,1.047 -6.459,1.92 -12.394,1.92c-16.581,0 -24.61,-9.774 -24.61,-24.087" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M902.589,186.949l-35.782,-81.861l15.535,0l27.927,65.454l25.309,-65.454l14.836,0l-50.443,123.054l-14.662,0l17.28,-41.193Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M996.26,100.15l7.752,0l-22.728,69.537l-7.675,0l22.651,-69.537Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1002.35,157.646l0,-7.826c1.882,0.752 3.763,1.353 6.924,1.353c4.891,0 8.053,-2.558 8.053,-9.181l0,-37.252l10.084,0l0,37.478c0,11.664 -6.698,17.008 -16.632,17.008c-4.44,0 -6.698,-0.678 -8.429,-1.58" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1035.46,141.841l9.633,0c0.678,5.42 2.86,9.934 11.966,9.934c5.945,0 10.16,-3.311 10.16,-8.278c0,-4.967 -2.484,-6.847 -11.214,-8.277c-12.868,-1.733 -18.964,-5.645 -18.964,-15.729c0,-8.806 7.525,-15.427 18.738,-15.427c11.59,0 18.514,5.267 19.567,15.578l-9.181,0c-0.978,-5.645 -4.215,-8.053 -10.386,-8.053c-6.095,0 -9.256,2.934 -9.256,7.074c0,4.366 1.806,6.547 11.138,7.901c12.643,1.732 19.191,5.343 19.191,16.105c0,9.332 -7.903,16.633 -19.793,16.633c-14.675,0 -20.846,-7.301 -21.599,-17.461" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M152.636,121.232c0,17.344 -14.06,31.404 -31.404,31.404c-17.344,0 -31.405,-14.06 -31.405,-31.404c0,-17.344 14.061,-31.404 31.405,-31.404c17.344,0 31.404,14.06 31.404,31.404" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M230.534,68.726l-67.217,67.217l46.941,0c-7.045,42.781 -44.281,75.521 -89.026,75.521c-31.396,0 -59.086,-16.127 -75.255,-40.523l-22.286,22.287c22.081,29.866 57.547,49.236 97.541,49.236c66.955,0 121.232,-54.277 121.232,-121.232c0,-18.81 -4.284,-36.619 -11.93,-52.506m-198.328,37.796c7.045,-42.782 44.281,-75.522 89.026,-75.522c31.396,0 59.086,16.127 75.255,40.523l22.286,-22.286c-22.081,-29.867 -57.547,-49.237 -97.541,-49.237c-66.955,0 -121.232,54.278 -121.232,121.232c0,18.811 4.284,36.62 11.93,52.506l67.217,-67.216l-46.941,0Z" style="fill-rule:nonzero;"/>
                    </svg>
                </a>
        
                <a href="#!" class="web-nav-toggler">
                    <span class="fa fa-close"></span>
                    <span class="fa fa-bars"></span>
                </a>
            </header>
        
            <div class="web-nav-list">
                <a href="/handbook" class="web-nav-item">Handbook</a>
                <a href="/modules" class="web-nav-item">Modules</a>
                <a href="/changelog.html" class="web-nav-item">Changelog</a>
                <a href="/support.html" class="web-nav-item">Support</a>
                <a href="/community/sponsors.html" class="web-nav-item">Sponsors</a>
                <a href="https://twitter.com/SerenityJS" class="web-nav-item" title="Serenity/JS on Twitter">
                    <span class="d-block d-lg-none">@SerenityJS on Twitter</span><span class="fab fa-twitter d-none d-lg-inline"> </span>
                </a>
                <a href="https://www.youtube.com/channel/UC0RdeVPyjtJopVHvlLrXd1Q" class="web-nav-item" title="Serenity/JS on YouTube">
                    <span class="d-block d-lg-none">serenity-js on YouTube</span><span class="fab fa-youtube d-none d-lg-inline"> </span>
                </a>
                <a href="https://github.com/serenity-js" class="web-nav-item" title="Serenity/JS on GitHub">
                    <span class="d-block d-lg-none">Source code</span><span class="fab fa-github d-none d-lg-inline"> </span>
                </a>
            </div>
        
            <div id="web-nav-mobile-indicator"><!-- this signals to the javascript if the navigation is mobile or not --></div>
        </nav>
    </div>

    <div class="announcement" role="banner">
        ðŸ‘‹ CSS? XPath? Or data-test-id? Help make Serenity/JS selectors better by answering <strong><a href="https://forms.gle/CGebfBPwKJQHkXr69">3 short questions</a></strong>!
    </div>
</div>

<section id="handbook">
    <section>
        <div class="container">
            <div class="row">
                <aside id="sidebar" class="col-lg-3 col-md-12 d-print-none">
                    <nav class="toc navigation text-truncate" data-ice="nav">
                        <ul class="summary">
                                <li class="header"><a href="/handbook/index.html">Overview</a></li>
                                <li class="chapter"><a href="/handbook/why-serenityjs.html">Why Serenity/JS?</a></li>
                                <li class="chapter"><a href="/handbook/demo.html">Demo</a></li>
                                <li class="chapter"><a href="/handbook/about.html">About this book</a></li>
                                <li class="chapter"><a href="/support.html">Support</a></li>
                                <li class="chapter"><a href="/contributing.html">Contributing</a></li>
                                <li class="chapter"><a href="/license.html">License</a></li>
                                <li class="header"><a href="/handbook/thinking-in-serenity-js/index.html">Thinking in Serenity/JS</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/hello-serenity-js.html">Hello, Serenity/JS!</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/test-runners.html">Test Runners and Reporting</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/actors-and-asynchrony.html">Actors and Asynchrony</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/assertions.html">Assertions</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/testing-rest-apis.html">Testing REST APIs</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/testing-web-uis.html">Testing Web UIs</a></li>
                                <li class="header"><a href="/handbook/design/index.html">Design Guide</a></li>
                                <li class="chapter"><a href="/handbook/design/the-trouble-with-test-scripts.html">The trouble with test scripts</a></li>
                                <li class="chapter"><a href="/handbook/design/screenplay-pattern.html">The Screenplay Pattern</a></li>
                                <li class="chapter"><a href="/handbook/design/actors.html">Actors</a></li>
                                <li class="chapter"><a href="/handbook/design/abilities.html">Abilities</a></li>
                                <li class="chapter"><a href="/handbook/design/interactions.html">Interactions</a></li>
                                <li class="chapter"><a href="/handbook/design/tasks.html">Tasks</a></li>
                                <li class="chapter"><a href="/handbook/design/questions.html">Questions</a></li>
                                <li class="chapter"><a href="/handbook/design/errors.html">Errors</a></li>
                                <li class="header"><a href="/handbook/integration/index.html">Integration Guide</a></li>
                                <li class="chapter"><a href="/handbook/integration/architecture.html">Architecture</a></li>
                                <li class="chapter"><a href="/handbook/integration/runtime-dependencies.html">Runtime dependencies</a></li>
                                <li class="chapter"><a href="/handbook/integration/versioning.html">Versioning</a></li>
                                <li class="chapter"><a href="/handbook/integration/installation.html">Installation</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-cucumber.html">Integrating with Cucumber</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-jasmine.html">Integrating with Jasmine</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-mocha.html">Integrating with Mocha</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-protractor.html">Integrating with Protractor</a></li>
                                <li class="chapter"><a href="/handbook/integration/jira-and-other-issue-trackers.html">Jira and other issue trackers</a></li>
                                <li class="chapter"><a href="/handbook/integration/upgrading-to-serenity-js-2.html">Upgrading to Serenity/JS 2.0</a></li>
                                <li class="header"><a href="/handbook/reporting/index.html">Reporting</a></li>
                                <li class="chapter"><a href="/handbook/reporting/console-reporter.html">Console Reporter</a></li>
                                <li class="chapter"><a href="/handbook/reporting/serenity-bdd-reporter.html">Serenity BDD Reporter</a></li>
                                <li class="chapter"><a href="/handbook/reporting/artifact-archiver.html">Artifact Archiver</a></li>
                                <li class="chapter"><a href="/handbook/reporting/stream-reporter.html">Stream Reporter</a></li>
                                <li class="header"><a href="/community/index.html">Community</a></li>
                                <li class="chapter"><a href="/community/events-and-articles.html">Events and articles</a></li>
                                <li class="chapter"><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                        </ul>
                    </nav>
                </aside>

                <div class="col-lg-9 col-md-12">
                    <article class="content">
                        <nav class="article-tools">
                            <a href="https://github.com/serenity-js/serenity-js/edit/master/documentation/website/src/handbook/design/questions.md">
                                <i class="far fa-edit"></i> Edit on GitHub</a>
                        </nav>
                        <section class="github-markdown">
                            <html><head></head><body><h1 id="questions">Questions</h1>
<p>A "question" in one of the five building blocks of the <a href="/handbook/design/screenplay-pattern.html">Screenplay Pattern</a>. </p>
<p>Answering a question enables the <a href="/handbook/design/actors.html">actor</a> to retrieve information about the state of the system under test or its execution environment. </p>
<p>Such information can then be passed to an <a href="/handbook/design.interactions.html">interaction</a>, <a href="/modules/assertions/class/src/Ensure.ts~Ensure.html">asserted on</a>, or used to <a href="/modules/assertions/class/src/Check.ts~Check.html">control flow</a> of the scenario.</p>
<figure>
![The Screenplay Pattern](/handbook/design/images/the-screenplay-pattern.png)
    <figcaption><span>The Screenplay Pattern</span></figcaption>
</figure>

<h2 id="implementing-questions">Implementing Questions</h2>
<p>Serenity/JS modules provide you with <a href="/modules">dozens of questions</a>
you can use in your acceptance tests. You'll find the ones you'll need in your Web-based tests in the <a href="/modules/protractor/identifiers.html#screenplay-questions"><code>@serenity-js/protractor</code></a> module, and the ones dedicated to REST API-based tests in <a href="/modules/rest/identifiers.html#screenplay-questions"><code>@serenity-js/rest</code></a>.</p>
<h3 id="a-questionabout">A <code>Question.about</code>...</h3>
<p>The <a href="/modules/core/class/src/screenplay/Question.ts~Question.html#static-method-about"><code>Question.about</code></a> <a href="https://en.wikipedia.org/wiki/Factory_method_pattern">factory method</a> is the easiest way to define a custom question.</p>
<p>Let's say that we wanted to define a question called <code>NameOfTheActor()</code> that returned the name of the <a href="/handbook/design/actors.html">actor</a> who answers it. </p>
<p>Here's how we could go about it:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> Question <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">NameOfTheActor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
    Question<span class="token punctuation">.</span><span class="token function">about</span><span class="token punctuation">(</span><span class="token string">'the name of the actor'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> actor<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>As you can see above, there are only three things you need to define a custom question:</p>
<ul>
<li>the name of the function that will create the question, in this case <code>NameOfTheActor()</code>,</li>
<li>a description of the question's subject, here <code>'the name of the actor'</code>, which will be used when <a href="/handbook/reporting/">reporting</a> on the actor answering this question,</li>
<li>a question body, which is a function that receives an <a href="/modules/core/class/src/screenplay/actor/Actor.ts~Actor.html"><code>Actor</code></a> and returns an answer to the question - here: <code>(actor: Actor) =&gt; actor.name</code>.</li>
</ul>
<p>While in the above example we return the answer to the question directly, a much more common and idiomatic approach is to use the actor's <a href="/handbook/design/abilities.html">abilities</a> to produce it.</p>
<p>For example, a question to retrieve the title of the current page could be designed to use the ability to <a href="/modules/protractor/class/src/screenplay/abilities/BrowseTheWeb.ts~BrowseTheWeb.html"><code>BrowseTheWeb</code></a>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Question <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">WebsiteTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    Question<span class="token punctuation">.</span><span class="token function">about</span><span class="token punctuation">(</span><span class="token string">'the title of the website'</span><span class="token punctuation">,</span> actor <span class="token operator">=&gt;</span> 
        BrowseTheWeb<span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// returns Promise&lt;string&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In the above example we retrieve actor's ability to <code>BrowseTheWeb</code> and then use that to perform the lower-level call.</p>
<p><strong>Please note</strong>: Instead of implementing your own custom question to retrieve the title of the website it's better to  use <a href="/modules/protractor/class/src/screenplay/questions/Website.ts~Website.html#static-method-title"><code>Website.title()</code></a> Serenity/JS already ships with.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text"><p><strong>PRO TIP:</strong>
    The function provided as a question body can return an answer either synchronously or asynchronously using a [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise).
    </p></div>
</div>

<h2 id="questions-and-interactions">Questions and Interactions</h2>
<p>Most Serenity/JS <a href="/handbook/design/interactions.html">interactions</a> can be parameterised, and those that can be parameterised will accept both synchronous and asynchronous questions, as well as regular static and <code>Promise</code>d values - referred to collectively as <a href="/modules/core/typedef/index.html#static-typedef-Answerable%3CT%3E"><code>Answerable</code>s</a>.</p>
<p>This design gives you an incredibly flexible and powerful mechanism to form the foundation of your tests. It also means
that you don't need to worry if a given interaction is synchronous or asynchronous, or if a given question returns a static value or a <code>Promise</code> -  Serenity/JS will synchronise them all for you and help you keep your code free of callback mess.</p>
<p>To illustrate how questions and interactions work together, let's look at <a href="/modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html"><code>Target</code></a> - a question we use to identify interactive elements on a website.</p>
<p>Consider the below <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form">HTML form</a> component, allowing readers to add a comment to an article on an imaginary website:</p>
<pre class="language-markup"><code class="language-markup">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>new-comment<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Comment:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>To interact with the component, we define a <a href="/handbook/thinking-in-serenity-js/lean-page-objects.html">Lean Page Object</a> called <code>NewComment</code>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Target <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">NewComment</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> Form <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'"new comment" form'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">'new-comment'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">static</span> NameField <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'name field'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">static</span> CommentField <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'comment field'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">'comment'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">static</span> SubmitButton <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'submit button'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>NewComment<span class="token punctuation">.</span>Form<span class="token punctuation">)</span>            <span class="token comment">// &lt;- a nested Target</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'input[type="submit"]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text"><p><strong>PRO TIP:</strong>
        All those [`Target.the`](/modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html#static-method-the) 
        statements above create questions that, when [answered](/modules/core/class/src/screenplay/actor/Actor.ts~Actor.html#instance-method-answer) by the actor,
        resolve to [`ElementFinder`](https://www.protractortest.org/#/api?view=ElementFinder) objects (or in case of
        [`Target.all`](/modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html#static-method-all) -
        [`ElementArrayFinder`](https://www.protractortest.org/#/api?view=ElementArrayFinder) objects),
        which are Protractor's extensions of the regular
        [`WebElement`](https://www.selenium.dev/selenium/docs/api/javascript/module/selenium-webdriver/index_exports_WebElement.html)
        class coming from the [`selenium-webdriver`](https://www.npmjs.com/package/selenium-webdriver) module.
    </p></div>
</div>

<p>Now, to fill out the form, we define a sequence of parameterised interactions and give them to an actor to perform:  </p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb<span class="token punctuation">,</span> Enter<span class="token punctuation">,</span> Click <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
        Enter<span class="token punctuation">.</span><span class="token function">theValue</span><span class="token punctuation">(</span><span class="token string">'Nice website!'</span><span class="token punctuation">)</span>     <span class="token comment">// &lt;- a static value</span>
            <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>NewComment<span class="token punctuation">.</span>CommentField<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// &lt;- a Target passed to an interaction to Enter</span>

        Enter<span class="token punctuation">.</span><span class="token function">theValue</span><span class="token punctuation">(</span><span class="token function">NameOfTheActor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// &lt;- our custom question</span>
            <span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span>NewComment<span class="token punctuation">.</span>NameField<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment">//    returning a static value</span>

        Click<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>NewComment<span class="token punctuation">.</span>SubmitButton<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// &lt;- a Target passed to an interaction to Click</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>There are several interesting things about the code samples above:</p>
<ul>
<li>the interaction to <a href="/modules/protractor/class/src/screenplay/interactions/Enter.ts~Enter.html"><code>Enter.theValue</code></a> accepts both a regular string (<code>'Nice website!'</code>) and the custom question <code>NameOfTheActor()</code> we implemented earlier; most Serenity/JS interactions have this capability,</li>
<li>the <code>NewComment.SubmitButton</code> is defined as a "nested target", so a <code>Target</code> relative to another <code>Target</code>. You can see more examples of this design in <a href="/modules/protractor/test-file/spec/screenplay/questions/Target.spec.ts.html">unit tests</a>.</li>
</ul>
<h3 id="mapping-the-answers">Mapping the answers</h3>
<p>So now you know how to retrieve information about the system under test and its execution environment, but what if this information needs some processing before it can be used further?</p>
<p>Let's say for example that we have the following widget, describing a discount a customer would get on our website:</p>
<pre class="language-markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>order-summary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- other entries of the order summary --&gt;</span> 

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">data-test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>percentage-discount<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>7.5%<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>We can, of course, get its text using the <a href="/modules/protractor/class/src/screenplay/questions/text/Text.ts~Text.html#static-method-of"><code>Text.of</code></a> question and then pass it to an interaction like <a href="/modules/assertions/class/src/Ensure.ts~Ensure.html"><code>Ensure</code></a> (responsible for performing <a href="/handbook/design/assertions.html">assertions</a>):</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Ensure<span class="token punctuation">,</span> equals <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Target<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">OrderSummary</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> DiscountWidget <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'discount widget'</span><span class="token punctuation">)</span>
           <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'[data-test="percentage-discount"]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>OrderSummary<span class="token punctuation">.</span>DiscountWidget<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'7.5%'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In many cases, asserting on a text value of an element is perfectly fine, but what if our test needed to check if the discount applied is <strong>less than 10%</strong>?</p>
<p>We'd have to first convert the text value to a number, wouldn't we?</p>
<p>That's where <a href="/modules/core/class/src/screenplay/Question.ts~Question.html#instance-method-map"><code>Question#map</code></a> comes into play!</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Ensure<span class="token punctuation">,</span> isLessThan <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled<span class="token punctuation">,</span> trim<span class="token punctuation">,</span> replace<span class="token punctuation">,</span> toNumber <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Target<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">OrderSummary</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> DiscountWidget <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'discount widget'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'[data-test="percentage-discount"]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> DiscountPercentage <span class="token operator">=</span>
        Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>OrderSummary<span class="token punctuation">.</span>DiscountWidget<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token comment">// &lt;- remove leading and trailing whitespace</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'%'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token comment">// &lt;- remove the '%' character</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">toNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token comment">// &lt;- map what's left to a `number`</span>
<span class="token punctuation">}</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>OrderSummary<span class="token punctuation">.</span>DiscountPercentage<span class="token punctuation">,</span> <span class="token function">isLessThan</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// compare as number rather than string</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>There are several interesting things demonstrated in the code sample above:</p>
<ul>
<li><code>trim()</code>, <code>replace()</code>, <code>toNumber()</code> and <a href="/modules/core/identifiers.html#screenplay-questions-mappings-string">other mapping functions</a> come from the <code>@serenity-js/core</code> module, which means they're applicable to <em>any question</em>, and not just the Web-specific ones,</li>
<li><code>.map()</code> calls can be chained.</li>
</ul>
<p>There's more to <code>.map()</code> method, though:</p>
<ul>
<li>it accepts custom functions, which can be either:<ul>
<li>synchronous: <code>.map(actor =&gt; value =&gt; value.replace('%', ''))</code>,</li>
<li>or asynchronous: <code>.map(actor =&gt; value =&gt; Promise.resolve(value.replace('%', ''))</code>,</li>
</ul>
</li>
<li>it works on <em>any question</em>, including the custom ones, i.e. <code>NameOfTheActor().map(toUpperCase())</code></li>
<li>you can use the same technique to map both a question returning a single value, but also a question returning a list of values. This is particularly useful when you need to apply the same transformation to all the rows in an HTML table, or all entries returned in an <a href="modules/rest/class/src/screenplay/questions/LastResponse.ts~LastResponse.html">API response</a></li>
<li>all the parameterised mapping functions accept <a href="/modules/core/typedef/index.html#static-typedef-Answerable%3CT%3E"><code>Answerable</code>s</a> too.</li>
</ul>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text"><p><strong>PRO TIP:</strong>
    The interaction to [`Ensure`](/modules/assertions/class/src/Ensure.ts~Ensure.html) is responsible for performing assertions and comes from the `@serenity-js/assertions` module.
    You'll learn more about them in the [next chapter](/handbook/design/assertions.html).
    </p></div>
</div>


<h3 id="changing-the-subject">Changing the subject</h3>
<p>One of the great things about Serenity/JS is how it reports the activities performed by the actors.</p>
<p>For example:</p>
<ul>
<li><code>OrderSummary.DiscountWidget</code> gets reported as <code>"the discount widget"</code>,</li>
<li><code>Text.of(OrderSummary.DiscountWidget)</code> becomes <code>"text of the discount widget"</code>, and so on.</li>
</ul>
<p>However, this also means that in more complex cases this description can become quite a mouthful.</p>
<p>Consider the below example that uses <a href="/modules/protractor/test-file/spec/screenplay/questions/Target.spec.ts.html">nested targets</a>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> trim<span class="token punctuation">,</span> replace<span class="token punctuation">,</span> toNumber <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Target<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">OrderSummary</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> Widget <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'order summary'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">'order-summary'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> DiscountWidget <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'discount widget'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>OrderSummary<span class="token punctuation">.</span>Widget<span class="token punctuation">)</span>            <span class="token comment">// &lt;- nested Target</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'[data-test="percentage-discount"]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> DiscountPercentage <span class="token operator">=</span>
        Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>OrderSummary<span class="token punctuation">.</span>DiscountWidget<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token comment">// &lt;- mappings</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'%'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">toNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In this case, <code>OrderSummary.DiscountPercentage</code> would get reported as <code>"text of the discount widget of the order summary"</code>. </p>
<p>To override this automatically-generated description of the question's subject with a custom one, use <a href="/modules/core/class/src/screenplay/Question.ts~Question.html#instance-method-describedAs"><code>Question#describedAs()</code></a>: </p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">OrderSummary</span> <span class="token punctuation">{</span>
    <span class="token comment">// other fields omitted for brevity</span>

    <span class="token keyword">static</span> DiscountPercentage <span class="token operator">=</span>
        Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>OrderSummary<span class="token punctuation">.</span>DiscountWidget<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'%'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">toNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">describedAs</span><span class="token punctuation">(</span><span class="token string">'discount percentage'</span><span class="token punctuation">)</span> <span class="token comment">// &lt;- subject name override</span>
<span class="token punctuation">}</span>
</code></pre>
</body></html>
                        </section>


                        <footer class="d-print-none">
                                <a class="previous" href="/handbook/design/tasks.html">
                                    <i class="fa fa-chevron-left"></i>
                                    <span>Tasks</span>
                                </a>
                                <a class="next" href="/handbook/design/errors.html">
                                    <span>Errors</span>
                                    <i class="fa fa-chevron-right"></i>
                                </a>
                        </footer>
                    </article>
                </div>
            </div>
        </div>
    </section>

</section>

<footer id="footer" class="ftr ftr-accent-2 text-center">
    <div class="container ftr-columns d-print-none">
        <div class="row">
            <div class="col-md-2 ml-auto col-sm-4">
                <h5 class="ftr-column-title ">Get started</h5>
                <ul class="ftr-column-list">
                    <li><a href="/handbook/">Serenity/JS Handbook</a></li>
                    <li><a href="/modules/">API docs</a></li>
                    <li><a href="https://github.com/serenity-js">Template projects</a></li>
                    <li><a href="https://github.com/serenity-js/serenity-js/tree/master/examples">Examples</a></li>
                </ul>
            </div>
            <div class="col-md-2 col-sm-4">
                <h5 class="ftr-column-title ">Support</h5>
                <ul class="ftr-column-list">
                    <li><a href="/support.html">Free Support</a></li>
                    <li><a href="/support.html#training-and-support-services">Training</a></li>
                    <li><a href="/support.html#training-and-support-services">Commercial support</a></li>
                    <li><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                    <li><a href="https://gitter.im/serenity-js/Lobby">Community Chat</a></li>
                </ul>
            </div>
            <div class="col-md-2 mr-auto col-sm-4">
                <h5 class="ftr-column-title">Developers</h5>
                <ul class="ftr-column-list">
                    <li><a href="/contributing.html">Contribute</a></li>
                    <li><a href="/changelog.html">Changelog</a></li>
                    <li><a href="/license.html">License</a></li>
                </ul>
            </div>
        </div>
        <div class="col-lg-6 mx-auto">
            <div class="ftr-column-list">
                <a class="github-button" href="https://github.com/sponsors/serenity-js" data-icon="octicon-heart" data-size="large" aria-label="Sponsor Serenity/JS on GitHub">Sponsor</a>
                <a class="github-button" href="https://github.com/serenity-js/serenity-js" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star jan-molak/serenity-js on GitHub">Star</a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-6 mx-auto ftr-bt ftr-oneline ">
                Made with love in London, UK &copy; 2016 - 2021 <a href="https://janmolak.com" target="_blank">Jan Molak</a>, smartcode ltd.
            </div>
        </div>
    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
        integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"
        integrity="sha256-m1eTvwEHwmsw4+XKF7BshClVJEPwTVycveNl0CS0Mkk="
        crossorigin="anonymous"></script>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<script src="/js/charming-pro.js"></script>

<script src="/js/search_index_initialiser.js"></script>
<script src="/js/inherited-summary.js"></script>
<script src="/js/test-summary.js"></script>
<script src="/js/patch-for-local.js"></script>
<script src="/js/external-links.js"></script>

<script>
    anchors.add('article h1, article h2, article h3, article h4');
</script>

<script type="text/javascript" id="cookieinfo"
        src="//cookieinfoscript.com/js/cookieinfo.min.js"
        data-message="We use analytical cookies to optimise the performance of this website. By continuing to use this site you agree to help us make it better for everyone."
        data-close-text="Got it!"
>
</script>

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
        securityLevel: 'loose',
        // theme: 'default',
        flowchart: {
            useMaxWidth: true,
            htmlLabels: true,
        },
        themeVariables: {
            // primaryColor: '#ffffff',
            // primaryBorderColor: '#373a3c',
            fontFamily: '"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace !important',
            defaultLinkColor: '#c1c1ff',
            edgeLabelBackground: '#fff',
        }
    });
</script>
</body>
</html>
